# LangExtract PII/PHI Extraction Examples for Presidio
# Conventions:
# - extraction_text appears verbatim in text
# - extraction_class kept simple; map to Presidio entities in your class_map

examples:
  # 1) Person + Email + Phone
  - text: "My name is John Doe and my email is john.doe@example.com. Call me at (555) 123-4567."
    extractions:
      - extraction_class: "person"
        extraction_text: "John Doe"
        attributes:
          type: "full_name"
      - extraction_class: "email"
        extraction_text: "john.doe@example.com"
        attributes:
          type: "email_address"
      - extraction_class: "phone"
        extraction_text: "(555) 123-4567"
        attributes:
          type: "phone_number"

  # 2) Street address + City/State ZIP
  - text: "Ship to 742 Evergreen Terrace, Springfield, IL 62704."
    extractions:
      - extraction_class: "address"
        extraction_text: "742 Evergreen Terrace, Springfield, IL 62704"
        attributes:
          type: "street_address"

  # 3) SSN + DOB (US)
  - text: "SSN: 123-45-6789; Date of Birth: 01/15/1980."
    extractions:
      - extraction_class: "ssn"
        extraction_text: "123-45-6789"
        attributes:
          type: "us_ssn"
      - extraction_class: "date"
        extraction_text: "01/15/1980"
        attributes:
          type: "date_of_birth"
          format: "MM/DD/YYYY"

  # 4) MRN + Admission/Discharge dates (PHI)
  - text: "MRN 00123456 admitted on 2024-03-15 and discharged on 2024-03-20."
    extractions:
      - extraction_class: "medical_record"
        extraction_text: "00123456"
        attributes:
          type: "medical_record_number"
      - extraction_class: "date"
        extraction_text: "2024-03-15"
        attributes:
          type: "admission_date"
          format: "YYYY-MM-DD"
      - extraction_class: "date"
        extraction_text: "2024-03-20"
        attributes:
          type: "discharge_date"
          format: "YYYY-MM-DD"

  # 5) Health insurance beneficiary ID + NPI (PHI)
  - text: "Health plan ID: H987654321. Provider NPI: 1234567890."
    extractions:
      - extraction_class: "health_insurance"
        extraction_text: "H987654321"
        attributes:
          type: "health_plan_beneficiary_id"
      - extraction_class: "medical_license"
        extraction_text: "1234567890"
        attributes:
          type: "npi_number"

  # 6) Credit card (no separators) + with separators
  - text: "Use card 4532123412341234 or 4532-1234-1234-1234."
    extractions:
      - extraction_class: "credit_card"
        extraction_text: "4532123412341234"
        attributes:
          type: "credit_card_number"
      - extraction_class: "credit_card"
        extraction_text: "4532-1234-1234-1234"
        attributes:
          type: "credit_card_number"

  # 7) Bank account + IBAN (multi-country)
  - text: "Account number: 0123456789; IBAN: GB29 NWBK 6016 1331 9268 19."
    extractions:
      - extraction_class: "bank_account"
        extraction_text: "0123456789"
        attributes:
          type: "account_number"
      - extraction_class: "iban"
        extraction_text: "GB29 NWBK 6016 1331 9268 19"
        attributes:
          type: "iban_code"
          country: "GB"

  # 8) Driver’s license + Passport
  - text: "Driver's license: D123-4567-8901; Passport: X12345678."
    extractions:
      - extraction_class: "drivers_license"
        extraction_text: "D123-4567-8901"
        attributes:
          type: "drivers_license_number"
      - extraction_class: "passport"
        extraction_text: "X12345678"
        attributes:
          type: "passport_number"

  # 9) Email with plus-tag + subdomain; Org mention
  - text: "Contact jane.smith+billing@sub.acme-corp.com at Acme Corp."
    extractions:
      - extraction_class: "email"
        extraction_text: "jane.smith+billing@sub.acme-corp.com"
        attributes:
          type: "email_address"
      - extraction_class: "organization"
        extraction_text: "Acme Corp"
        attributes:
          type: "company"

  # 10) Phone—international formats
  - text: "EU office: +44 20 7946 0958; US office: +1-415-555-2671."
    extractions:
      - extraction_class: "phone"
        extraction_text: "+44 20 7946 0958"
        attributes:
          type: "phone_number"
          region: "GB"
      - extraction_class: "phone"
        extraction_text: "+1-415-555-2671"
        attributes:
          type: "phone_number"
          region: "US"

  # 11) URL (scheme + no scheme) + IPv4 + IPv6
  - text: "Visit https://example.com/login or example.org. Server IPs: 192.168.1.100 and fe80::1ff:fe23:4567:890a."
    extractions:
      - extraction_class: "url"
        extraction_text: "https://example.com/login"
        attributes:
          type: "website_url"
      - extraction_class: "url"
        extraction_text: "example.org"
        attributes:
          type: "domain"
      - extraction_class: "ip_address"
        extraction_text: "192.168.1.100"
        attributes:
          type: "ipv4"
      - extraction_class: "ip_address"
        extraction_text: "fe80::1ff:fe23:4567:890a"
        attributes:
          type: "ipv6"

  # 12) Geolocation coordinates (PII)
  - text: "Coordinates: 37.4219983, -122.084."
    extractions:
      - extraction_class: "geo_coordinates"
        extraction_text: "37.4219983, -122.084"
        attributes:
          type: "lat_long"

  # 13) Medical condition + medication + procedure (PHI)
  - text: "Diagnosed with type 2 diabetes, prescribed Metformin 500mg twice daily, scheduled for knee arthroscopy."
    extractions:
      - extraction_class: "condition"
        extraction_text: "type 2 diabetes"
        attributes:
          type: "medical_condition"
      - extraction_class: "medication"
        extraction_text: "Metformin 500mg"
        attributes:
          type: "prescription_medication"
          dosage: "500mg"
      - extraction_class: "procedure"
        extraction_text: "knee arthroscopy"
        attributes:
          type: "surgical_procedure"

  # 14) Fax + Email (HIPAA identifiers)
  - text: "Send the referral by fax to 212-555-0199 or email referrals@clinic.example."
    extractions:
      - extraction_class: "fax"
        extraction_text: "212-555-0199"
        attributes:
          type: "fax_number"
      - extraction_class: "email"
        extraction_text: "referrals@clinic.example"
        attributes:
          type: "email_address"

  # 15) License plate + VIN (often treated as PII)
  - text: "Vehicle plate 7ABC123 with VIN 1HGCM82633A004352."
    extractions:
      - extraction_class: "license_plate"
        extraction_text: "7ABC123"
        attributes:
          type: "vehicle_registration"
      - extraction_class: "vin"
        extraction_text: "1HGCM82633A004352"
        attributes:
          type: "vehicle_identification_number"

  # 16) Account/certificate numbers (HIPAA list items)
  - text: "Certificate 2024-CE-9981 and account 5566778899 were updated."
    extractions:
      - extraction_class: "certificate_number"
        extraction_text: "2024-CE-9981"
        attributes:
          type: "certificate_or_license_number"
      - extraction_class: "account_number"
        extraction_text: "5566778899"
        attributes:
          type: "financial_account"

  # 17) Email without TLD typo (still PII)
  - text: "Reach me at alex.roe@mailserver or at the office line 555.987.6543."
    extractions:
      - extraction_class: "email"
        extraction_text: "alex.roe@mailserver"
        attributes:
          type: "email_address"
      - extraction_class: "phone"
        extraction_text: "555.987.6543"
        attributes:
          type: "phone_number"

  # 18) Organization + clinician name (PHI context)
  - text: "Seen at City General Hospital by Dr. Alice Carter."
    extractions:
      - extraction_class: "organization"
        extraction_text: "City General Hospital"
        attributes:
          type: "hospital"
      - extraction_class: "person"
        extraction_text: "Dr. Alice Carter"
        attributes:
          type: "healthcare_provider"

  # 19) Age > 89 (HIPAA: identifiable unless bucketed as 90+)
  - text: "Patient is 92 years old and resides at 55 King Street."
    extractions:
      - extraction_class: "age_over_89"
        extraction_text: "92 years old"
        attributes:
          type: "age"
      - extraction_class: "address"
        extraction_text: "55 King Street"
        attributes:
          type: "street_address"

  # 20) Catch-all PII for sensitive info that doesn't fit specific categories
  - text: "Employee badge number A-12345 and parking spot B-22."
    extractions:
      - extraction_class: "pii"
        extraction_text: "A-12345"
        attributes:
          type: "employee_badge"
      - extraction_class: "pii"
        extraction_text: "B-22"
        attributes:
          type: "parking_spot"

